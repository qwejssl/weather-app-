/* ===== HEADER / SEARCH ===== */
.header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: var(--gap);
	gap: 12px;
}
.h-left {
	display: grid;
	grid-auto-flow: column;
	gap: 10px;
	align-items: center;
}
.h-right {
	display: grid;
	grid-auto-flow: column;
	gap: 10px;
	align-items: center;
}
.avatar {
	width: 40px;
	height: 40px;
	border-radius: 50%;
	background: var(--list-bg);
}
.today {
	font-weight: 600;
	font-size: 18px;
}

.search {
	position: relative;
	display: grid;
	grid-template-columns: 1fr auto;
	align-items: center;
	gap: 8px;
	background: var(--elev-2);
	border: 1px solid var(--border);
	border-radius: 16px;
	padding: 6px;
}
.search .input {
	background: transparent;
	border: 0;
	padding: 8px 10px;
}
.typeahead {
	position: absolute;
	top: 100%;
	left: 0;
	margin-top: 8px;
	padding: 8px;
	list-style: none;
	width: 100%;
	z-index: 5;
	background: var(--elev);
	border: 1px solid var(--border);
	border-radius: 12px;
	box-shadow: var(--shadow);
}
.typeahead li {
	padding: 8px 10px;
	border-radius: 8px;
	cursor: pointer;
}
.typeahead li:hover,
.typeahead li:focus {
	background: var(--elev-2);
}

/* ===== CURRENT + HOURLY (no native scrollbar) ===== */
.headline {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 16px;
	margin-bottom: 14px;
}
.city {
	font-size: 28px;
	font-weight: 700;
}
.metrics {
	display: grid;
	grid-auto-flow: column;
	gap: 18px;
	align-items: center;
}
.metric.big {
	font-size: 32px;
	font-weight: 700;
}
.metric .muted {
	margin-left: 6px;
	color: var(--muted);
	font-weight: 500;
}

.hours {
	display: grid;
	grid-template-columns: auto 1fr auto;
	align-items: center;
	gap: 10px;
}
.hours-viewport {
	overflow: hidden;
}
.hours-track {
	display: grid;
	grid-template-columns: repeat(6, minmax(0, 1fr));
	gap: 12px;
}

.hours-nav {
	width: 40px;
	height: 40px;
	border-radius: 12px;
	background: var(--btn-bg);
	color: var(--text);
	border: 1px solid var(--btn-border);
	cursor: pointer;
}
.hours-nav:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.hours-progress {
	height: 6px;
	background: var(--progress-bg);
	border-radius: 999px;
	margin-top: 10px;
	overflow: hidden;
}
.hours-progress .bar {
	height: 100%;
	width: 0%;
	background: var(--accent);
	border-radius: 999px;
	transition: width 0.25s ease;
}

.hour {
	padding: 12px;
	border-radius: 14px;
	background: var(--list-bg);
	border: 1px solid var(--list-border);
	text-align: center;
}
.hour .time {
	color: var(--muted);
	font-size: 12px;
}
.hour .t {
	font-weight: 600;
}
.ico {
	width: 22px;
	height: 22px;
}

/* ===== MAP (static image + badge) ===== */
.map-static {
	position: relative;
}
.map-static img {
	width: 100%;
	height: auto;
	display: block;
	border-radius: 16px;
}
.map-static .badge {
	position: absolute;
	left: 16px;
	top: 16px;
	background: color-mix(
		in oklab,
		var(--text) 8%,
		#000
	); /* subtle dark chip in both themes */
	color: #fff;
	padding: 10px 12px;
	border-radius: 14px;
	border: 1px solid color-mix(in oklab, #fff 12%, transparent);
}
.map-static .expand {
	position: absolute;
	right: 16px;
	bottom: 16px;
}

/* ===== OVERVIEW CHART ===== */
.chart {
	border-radius: 16px;
	background: linear-gradient(180deg, var(--elev), var(--elev-2));
	padding: 10px;
	border: 1px solid var(--soft-border);
}
.chart-inner {
	position: relative;
}
.chart-tip {
	position: absolute;
	bottom: 8px;
	transform: translateX(-50%);
	background: color-mix(in oklab, var(--text) 8%, #000);
	color: #fff;
	padding: 6px 10px;
	border-radius: 10px;
	font-size: 12px;
	pointer-events: none;
	white-space: nowrap;
}
.chart-tick {
	fill: var(--muted);
	font-size: 12px;
}

.tabs {
	display: flex;
	gap: 8px;
	margin-bottom: 10px;
}
.tab {
	background: var(--chip-bg);
	border: 1px solid var(--btn-border);
	color: var(--text);
	padding: 8px 12px;
	border-radius: 999px;
	cursor: pointer;
}
.tab.active {
	background: var(--accent);
	color: var(--accent-ink);
	border-color: transparent;
}

/* ===== FORECAST LIST ===== */
.title-row {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 12px;
}
.seg {
	display: grid;
	grid-auto-flow: column;
	gap: 8px;
}
.seg .seg-btn.active {
	background: var(--accent);
	color: var(--accent-ink);
	border-color: transparent;
}

.f-item {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 12px;
	border-radius: 14px;
	background: var(--list-bg);
	border: 1px solid var(--list-border);
	margin-bottom: 10px;
}
.f-left {
	display: grid;
	grid-auto-flow: column;
	gap: 10px;
	align-items: center;
}
.f-ico {
	width: 22px;
	height: 22px;
}
.f-temp {
	font-weight: 600;
}
.f-date {
	color: var(--muted);
}

/* ===== TOASTS & FOCUS ===== */
#toasts {
	position: fixed;
	right: 16px;
	bottom: 16px;
	display: grid;
	gap: 8px;
	z-index: 50;
}
.toast {
	background: color-mix(in oklab, var(--text) 8%, #000);
	color: #fff;
	border: 1px solid color-mix(in oklab, #fff 12%, transparent);
	padding: 10px 12px;
	border-radius: 12px;
	box-shadow: var(--shadow);
}

button:focus-visible,
.input:focus-visible,
.hour:focus-visible,
.tab:focus-visible,
.pill:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}

/* HOURS — горизонтальный скролл */
.hours-scroll {
	display: grid;
	grid-auto-flow: column;
	grid-auto-columns: 120px;
	gap: 12px;
	overflow-x: auto;
	padding-bottom: 4px;
	scroll-snap-type: x proximity;
}
.hours-scroll::-webkit-scrollbar {
	height: 8px;
}
.hours-scroll::-webkit-scrollbar-thumb {
	background: var(--progress-bg);
	border-radius: 999px;
}
.hour {
	scroll-snap-align: start;
}

/* MAP — центрированный пин */
.map-static {
	position: relative;
}
.map-static img {
	width: 100%;
	height: auto;
	display: block;
	border-radius: 16px;
	object-fit: cover;
}
.center-pin {
	position: absolute;
	left: 50%;
	top: 50%;
	transform: translate(-50%, -50%);
	width: 26px;
	height: 26px;
	filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.35));
	pointer-events: none;
}
.map-static .expand {
	position: absolute;
	right: 16px;
	bottom: 16px;
}
